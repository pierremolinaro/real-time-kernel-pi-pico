#include "all-headers.h"

//--------------------------------------------------------------------------------------------------

static volatile uint32_t gCount ; // Correct !

//--------------------------------------------------------------------------------------------------

static void rtISR (SECTION_MODE_ const uint32_t inUptime) {
  gCount += 1 ;
}

//--------------------------------------------------------------------------------------------------


MACRO_REAL_TIME_ISR (rtISR) ;

//--------------------------------------------------------------------------------------------------

void setup0 (USER_MODE) {
  printString (MODE_ "Hello!") ;
  while (gCount < 3000) {}
}

//--------------------------------------------------------------------------------------------------

void loop0 (USER_MODE) {
  gCount += 500 ;
  gotoXY (MODE_ 0, 1) ;
  printUnsigned (MODE_ gCount) ;
  busyWaitDuring (MODE_ 500) ;
}

//--------------------------------------------------------------------------------------------------
